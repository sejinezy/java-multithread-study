# java-multithread-study

- 김영한님의 실전 자바 - 고급 1편 (멀티스레드와 동시성) 학습 기록 저장소입니다.
- https://www.inflearn.com/course/%EA%B9%80%EC%98%81%ED%95%9C%EC%9D%98-%EC%8B%A4%EC%A0%84-%EC%9E%90%EB%B0%94-%EA%B3%A0%EA%B8%89-1/dashboard



## 핵심 내용 정리

### 프로세스와 스레드 소개

1. 멀티태스킹과 멀티프로세싱의 가장 큰 차이점은?
    - **하드웨어적 병렬성 유무**
    - 멀티프로세싱은 여러 CPU 코어로 작업을 “물리적”으로 동시에 처리하는 반면, 멀티태스킹은 단일 CPU에서 시간 분할로 동시처럼 보이게 한다. 핵심 차이는 여러 하드웨어(CPU 코어)를 실제로 사용하는가이다.

2. 프로세스와 스레드의 메모리 사용 방식에서 가장 중요한 차이는?
    - **프로세스는 독립적 메모리 공간을 가짐**
    - 프로세스는 실행되는 프로그램의 독립적인 인스턴스로 자체 메모리 공간을 가진다. 반면 스레드는 같은 프로세스 내에서 코드, 데이터, 힙 영역을 공유하고 각자 스택만 따로 갖는다.

3. 컨텍스트 스위칭이란?
    - **CPU가 작업 상태를 저장/ 복원**
    - 컨텍스트 스위칭은 CPU가 여러 스레드나 프로세스를 번갈아 실행할 때, 이전에 하던 작업의 상태(어디까지 했는지 등)을 저장하고 다음에 할 작업의 상태를 불러오는 과정이다. 이 과정에서 시간이 소요된다.

4. 단일 CPU 코어 환경에서 너무 많은 스레드를 사용할 때 비효율적이 될 수 있는 주된 이유는?
    - **컨텍스트 스위칭 비용 증가**
    - 단일 코어에서 스레드가 너무 많으면 CPU가 스레드를 자주 바꿔가며 실행해야 한다. 이때 작업 상태를 저장하고 불러오는 컨텍스트 스위칭 비용이 커져서, 오히려 전체 성능이 떨어질 수 있다.

5. I/O 작업이 많은 작업(I/O-bound)에서 스레드 수를 조절할 때, CPU 코어 수와 비교하여 일반적으로 어떻게 하는 것이 효과적일까?
    - **코어 수보다 더 많이 사용**
    - I/O-bound 작업은 CPU가 I/O 완료를 기다리는 시간이 길다. 코어 수보다 스레드를 많이 만들면, 한 스레드가 I/O 대기 중일 때 다른 스레드가 CPU를 사용하여 CPU 활용도를 높일 수 있다.


---
### 스레드 생성과 실행

1. 자바 메모리 구조에서, 각 스레드마다 독립적으로 생성되고 관리되는 영역은?
   - **스택 영역**
   - 스택 영역은 각 스레드마다 독립적으로 생성되며, 지역 변수나 메서드 호출 정보를 저장한다. 힙과 메소드 영역은 스레드 간에 공유된다.

2. 스레드를 실행할 때, Thread.start() 메소드를 호출하는 것과 run()메소드를 직접 호출하는 것의 가장 중요한 차이점은?
   - **새로운 스레드 생성 여부**
   - start()는 새로운 스레드를 생성하고 OS에 실행을 요청하지만, run() 직접 호출은 단순히 현재 스레드에서 메소드를 실행하는 것과 같다.

3. 자바 프로그램의 종료 시점에서 사용자 스레드와 데몬 스레드의 주요 차이점은?
   - **JVM 종료를 막는지 여부**
   - 모든 사용자 스레드가 종료되면 JVM이 종료되지만, 데몬 스레드만 남은 경우 JVM은 기다리지 않고 종료된다. 데몬 스레드는 보조 작업을 수행한다.

4. 스레드의 실행할 작업을 정의할 때, Thread 클래스를 상속하는 것보다 Runnable 인터페이스를 구현하는 것을 일반적으로 선호하는 주된 이유는?
   - **다중 상속의 제약 해소**
   - 자바는 단일 상속만 허용하기 때문에, Runnable 구현은 다른 클래스를 상속하면서도 스레드 작업을 정의할 수 있어 더 유연하다.

5. 여러 개의 스레드가 동일한 Runnable 인스턴스를 실행 작업으로 사용하는 경우, 각 스레드는 해당 Runnable 인스턴스의 어떤 부분을 각자의 스택에서 실행하게 될까?
   - **run() 메소드 내의 코드**
   - 스레드는 Runnable 인스턴스를 공유하지만, 실제 실행되는 run() 메소드의 코드는 각 스레드의 독립적인 스택 프레임 위에서 실행된다.